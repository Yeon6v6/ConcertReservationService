# 시나리오 1 : 정상 플로우 테스트

## **목표**

* 대기열 토큰 발급부터 좌석 예약, 포인트 확인 및 결제까지 전체 예약 프로세스가 목표 TPS 내에서 안정적으로 동작하는지 확인
* 각 단계의 평균 응답 시간 및 성공률 측정

## **테스트 흐름**

1. **대기열 토큰 발급:**
   * 사용자마다 유저 토큰 발급 API 호출 → 토큰 내 대기열 정보 획득
   * 목표: 응답 시간 2\~3ms, 약 50 TPS
2. **예약 가능 날짜/좌석 조회:**
   * 발급받은 토큰으로 예약 가능 날짜와 좌석 정보 조회
   * 목표: 응답 시간 300\~500ms, 약 100 TPS
3. **좌석 예약 요청:**
   * 선택한 좌석에 대해 예약 요청 → 임시 배정(예: 5분 유지)
   * 목표: 응답 시간 500ms 이하, 약 30 TPS
4. **포인트 충전/조회 및 결제:**
   * 사용자 포인트 조회/충전 후, 결제 API를 호출하여 최종 예약 확정
   * 목표: 포인트 API 6~~7ms 응답, 결제 API 10~~15ms 응답, 각각 약 50, 30 TPS

## **시뮬레이션 조건**

* 사용자 시뮬레이션은 k6의 constant- or ramping-vus 방식을 사용하여 실제 사용 패턴(예: 200\~500명의 동시 사용자)을 반영
* 각 단계별로 sleep()을 활용해 현실적인 사용자 대기 시간(예: 대기열 조회 3초 간격 등) 적용
